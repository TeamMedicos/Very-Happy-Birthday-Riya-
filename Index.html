<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Riya! ‚ú®</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Plus+Jakarta+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --primary: #ff4d8d;
            --secondary: #7000ff;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #0c0a09;
            color: #f3f4f6;
            font-family: 'Plus Jakarta Sans', sans-serif; /* Fallback for Satoshi */
            overflow: hidden;
            height: 100vh;
        }

        h1, h2 {
            font-family: 'Playfair Display', serif;
        }

        /* Layer 1: Aurora Background */
        .aurora-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(circle at 20% 30%, hsla(333, 70%, 55%, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, hsla(282, 82%, 54%, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 50% 10%, hsla(210, 89%, 60%, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 30% 80%, hsla(35, 90%, 60%, 0.3) 0%, transparent 50%);
            filter: blur(80px);
            animation: auroraMove 20s ease-in-out infinite alternate;
        }

        @keyframes auroraMove {
            0% { transform: scale(1) rotate(0deg); }
            100% { transform: scale(1.2) rotate(5deg); }
        }

        /* Layer 2: Three.js Canvas */
        #heart-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            pointer-events: none;
        }

        /* Glassmorphism */
        .glass-card {
            background: rgba(12, 10, 9, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            border-radius: 2rem;
            display: none; /* Hidden by default */
        }

        .glass-card.active {
            display: block;
        }

        .text-gradient {
            background: linear-gradient(to right, #ff9eb5, #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Progress Bar */
        .progress-container {
            position: fixed;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            z-index: 100;
            overflow: hidden;
        }

        #progress-fill {
            width: 20%;
            height: 100%;
            background: linear-gradient(90deg, #ff4d8d, #ff1a1a);
            transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, #ff4d8d, #ff1a1a);
            box-shadow: 0 0 20px rgba(255, 77, 141, 0.4);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 0 30px rgba(255, 77, 141, 0.6);
        }

        .btn-primary:active {
            transform: translateY(1px);
        }

        /* Polaroid Effect */
        .polaroid-wrapper {
            perspective: 1000px;
        }

        .polaroid {
            background: white;
            padding: 1rem 1rem 3rem 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transform: rotate3d(1, 1, 0, 15deg);
            transition: transform 0.1s ease-out;
        }

        .polaroid img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            filter: sepia(0.2);
        }

        .polaroid-caption {
            font-family: 'Playfair Display', serif;
            color: #333;
            text-align: center;
            margin-top: 1rem;
            font-size: 1.2rem;
        }

        /* Bento Grid */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .bento-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .span-2 { grid-column: span 2; }

        @media (max-width: 640px) {
            .bento-grid { grid-template-columns: 1fr; }
            .span-2 { grid-column: span 1; }
        }
    </style>
</head>
<body>

    <div class="aurora-bg"></div>
    <canvas id="heart-canvas"></canvas>

    <!-- Progress Bar -->
    <div class="progress-container glass-card" style="display: block; background: rgba(255,255,255,0.05);">
        <div id="progress-fill"></div>
    </div>

    <!-- Main Content Container -->
    <main class="relative z-10 flex items-center justify-center min-h-screen p-4">
        
        <!-- Step 1: Welcome -->
        <section id="step1" class="glass-card active max-w-md w-full p-8 md:p-12 text-center">
            <div class="mb-6 text-6xl animate-bounce">‚ù§Ô∏è</div>
            <h1 class="text-4xl md:text-5xl font-bold mb-4 text-gradient">Hey Beautiful Riya,</h1>
            <p class="text-gray-300 mb-8 leading-relaxed">
                I built a little world for you, just to bring a smile to your face on your special day and for sure You would love this.
            </p>
            <button onclick="nextStep(2)" class="btn-primary text-white px-10 py-4 rounded-full font-bold text-lg">
                Let's Begin
            </button>
        </section>

        <!-- Step 2: Birthday Wish -->
        <section id="step2" class="glass-card max-w-md w-full p-8 md:p-12 text-center">
            <div class="mb-6 text-6xl">üéâ</div>
            <h1 class="text-4xl font-bold mb-4 text-gradient">Very Happy Birthday Riya!</h1>
            <p class="text-gray-300 mb-8 leading-relaxed">
                Another year of you making the world brighter. Your existence is a gift, and I'm so lucky to witness it. Really you are amazing yaara üëäüèª.
            </p>
            <button onclick="nextStep(3)" class="btn-primary text-white px-10 py-4 rounded-full font-bold text-lg">
                There's more...
            </button>
        </section>

        <!-- Step 3: Bento Grid Adoration -->
        <section id="step3" class="glass-card max-w-2xl w-full p-6 md:p-10">
            <h2 class="text-3xl font-bold mb-8 text-center text-gradient">A Few Things I Adore About You Yaara</h2>
            <div class="bento-grid mb-8">
                <div class="bento-item span-2">
                    <h3 class="text-pink-400 font-bold mb-2">‚ú® Your Unmatched Kindness</h3>
                    <p class="text-sm text-gray-300">The genuine presence and such a great behavior with full loyalty you are giving to me is something truly rare and beautiful.</p>
                </div>
                <div class="bento-item">
                    <h3 class="text-pink-400 font-bold mb-2">üòä That Smile</h3>
                    <p class="text-sm text-gray-300">It is really energetic.</p>
                </div>
                <div class="bento-item">
                    <h3 class="text-pink-400 font-bold mb-2">üí¨ That Daily Text</h3>
                    <p class="text-sm text-gray-300">It Really make my day.</p>
                </div>
                <div class="bento-item span-2">
                    <h3 class="text-pink-400 font-bold mb-2">üåü Your Radiant Spirit</h3>
                    <p class="text-sm text-gray-300">Your passion for life is really appreciable. Being with you makes everything feel more excitable and possible with a smile.</p>
                </div>
            </div>
            <div class="text-center">
                <button onclick="nextStep(4)" class="btn-primary text-white px-10 py-4 rounded-full font-bold text-lg">
                    Remember this?
                </button>
            </div>
        </section>

        <!-- Step 4: Shared Memory -->
        <section id="step4" class="glass-card max-w-md w-full p-8 text-center">
            <h2 class="text-3xl font-bold mb-8 text-gradient">That One Time...</h2>
            <div class="polaroid-wrapper mb-8" id="polaroidContainer">
                <div class="polaroid mx-auto w-64">
                    <img src="https://files.catbox.moe/dmr8ot.jpg" alt="Memory">
                    <div class="polaroid-caption">Very Happy Birthday To You.</div>
                </div>
            </div>
            <p class="text-gray-300 mb-8 italic">
                "Every moment with you feels like a scene from a movie I'd watch on repeat."
            </p>
            <button onclick="nextStep(5)" class="btn-primary text-white px-10 py-4 rounded-full font-bold text-lg">
                One last thing...
            </button>
        </section>

        <!-- Step 5: Finale -->
        <section id="step5" class="glass-card max-w-md w-full p-8 md:p-12 text-center">
            <div class="mb-6 text-6xl">üéÇ</div>
            <h1 class="text-4xl font-bold mb-4 text-gradient">My Wish From Your Aditya</h1>
            <p class="text-gray-300 mb-8 leading-relaxed">
                Hamesha hi aap smile krte rho yaara. You are blessed by God so no worry You will get the best in your life. We will always be together and milke solve kr lenge and face kr lenge everything and you will Achieve the best in your life. Smile Kro Yaara.
            </p>
            
            <div id="finalMessage" class="hidden mb-8 text-2xl font-bold text-pink-400 animate-pulse">
                Very Happy Birthday, Jaani! ‚ù§Ô∏è
            </div>

            <button id="celebrateBtn" onclick="celebrateSequence()" class="btn-primary text-white px-10 py-4 rounded-full font-bold text-lg w-full">
                Celebrate!
            </button>
        </section>

    </main>

    <script>
        // --- Three.js Setup (3D Hearts) ---
        let scene, camera, renderer, hearts = [];
        const heartCount = 25;

        function initThree() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('heart-canvas'), alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);

            const heartShape = new THREE.Shape();
            heartShape.moveTo(25, 25);
            heartShape.bezierCurveTo(25, 25, 20, 0, 0, 0);
            heartShape.bezierCurveTo(-30, 0, -30, 35, -30, 35);
            heartShape.bezierCurveTo(-30, 55, -10, 77, 25, 95);
            heartShape.bezierCurveTo(60, 77, 80, 55, 80, 35);
            heartShape.bezierCurveTo(80, 35, 80, 0, 50, 0);
            heartShape.bezierCurveTo(35, 0, 25, 25, 25, 25);

            const extrudeSettings = { depth: 8, bevelEnabled: true, bevelSegments: 2, steps: 2, bevelSize: 1, bevelThickness: 1 };
            const geometry = new THREE.ExtrudeGeometry(heartShape, extrudeSettings);
            geometry.scale(0.015, 0.015, 0.015);
            geometry.center();

            for (let i = 0; i < heartCount; i++) {
                const material = new THREE.MeshPhongMaterial({ 
                    color: new THREE.Color(0xff4d8d),
                    shininess: 100,
                    specular: 0x222222
                });
                const heart = new THREE.Mesh(geometry, material);
                resetHeart(heart);
                scene.add(heart);
                hearts.push(heart);
            }

            const light = new THREE.PointLight(0xffffff, 1, 100);
            light.position.set(0, 0, 10);
            scene.add(light);
            scene.add(new THREE.AmbientLight(0xffffff, 0.5));

            camera.position.z = 10;
        }

        function resetHeart(heart) {
            heart.position.set(
                (Math.random() - 0.5) * 20,
                (Math.random() - 0.5) * 20,
                (Math.random() - 0.5) * 10
            );
            heart.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, 0);
            heart.speed = 0.005 + Math.random() * 0.01;
            heart.sineOffset = Math.random() * Math.PI * 2;
        }

        function animate() {
            requestAnimationFrame(animate);
            hearts.forEach(heart => {
                heart.rotation.y += heart.speed;
                heart.rotation.x += heart.speed * 0.5;
                heart.position.y += Math.sin(Date.now() * 0.001 + heart.sineOffset) * 0.005;
            });
            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- Step Navigation Logic ---
        let currentStep = 1;
        const totalSteps = 5;

        function nextStep(step) {
            const currentEl = document.getElementById(`step${currentStep}`);
            const nextEl = document.getElementById(`step${step}`);

            gsap.to(currentEl, {
                duration: 0.5,
                opacity: 0,
                scale: 0.9,
                y: -20,
                onComplete: () => {
                    currentEl.classList.remove('active');
                    nextEl.classList.add('active');
                    currentStep = step;
                    
                    // Update Progress Bar
                    gsap.to("#progress-fill", {
                        width: `${(step / totalSteps) * 100}%`,
                        duration: 0.8
                    });

                    // Animate In Next Step
                    gsap.fromTo(nextEl, 
                        { opacity: 0, scale: 0.95, y: 30 },
                        { opacity: 1, scale: 1, y: 0, duration: 0.6, ease: "back.out(1.7)" }
                    );

                    // Stagger elements inside
                    gsap.from(nextEl.querySelectorAll('h1, h2, p, button, .bento-item'), {
                        delay: 0.2,
                        opacity: 0,
                        y: 20,
                        stagger: 0.1,
                        duration: 0.5
                    });
                }
            });
        }

        // --- Polaroid Parallax ---
        const polaroid = document.getElementById('polaroidContainer');
        document.addEventListener('mousemove', (e) => {
            if (currentStep !== 4) return;
            const xAxis = (window.innerWidth / 2 - e.pageX) / 25;
            const yAxis = (window.innerHeight / 2 - e.pageY) / 25;
            gsap.to(".polaroid", { rotationY: xAxis, rotationX: yAxis, duration: 0.5 });
        });

        // --- Grand Finale ---
        function celebrateSequence() {
            const btn = document.getElementById('celebrateBtn');
            const finalMsg = document.getElementById('finalMessage');
            
            btn.style.pointerEvents = 'none';
            gsap.to(btn, { opacity: 0, scale: 0.8, duration: 0.4 });
            
            setTimeout(() => {
                finalMsg.classList.remove('hidden');
                gsap.fromTo(finalMsg, { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 1 });
            }, 500);

            // Confetti Bursts
            const duration = 5 * 1000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            const randomInRange = (min, max) => Math.random() * (max - min) + min;

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) return clearInterval(interval);

                const particleCount = 50 * (timeLeft / duration);
                confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } });
                confetti({ ...defaults, particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } });
                
                // Emoji Confetti
                confetti({
                    particleCount: 2,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    shapes: ['heart'],
                    colors: ['#ff4d8d', '#ff1a1a']
                });
                confetti({
                    particleCount: 2,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    shapes: ['heart'],
                    colors: ['#ff4d8d', '#ff1a1a']
                });
            }, 250);

            // Three.js Finale: Hearts fly away
            hearts.forEach((heart, i) => {
                gsap.to(heart.position, {
                    x: (Math.random() - 0.5) * 50,
                    y: 20,
                    z: (Math.random() - 0.5) * 50,
                    duration: 3 + Math.random() * 2,
                    delay: i * 0.05,
                    ease: "power2.in"
                });
                gsap.to(heart.material, { opacity: 0, duration: 3, delay: 2 });
            });
        }

        // Initialize
        window.onload = () => {
            initThree();
            animate();
            
            // Fade in first card
            gsap.fromTo("#step1", 
                { opacity: 0, scale: 0.8 }, 
                { opacity: 1, scale: 1, duration: 1.2, ease: "expo.out" }
            );
        };
    </script>
</body>
</html>